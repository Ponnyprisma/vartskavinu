function setCityMarker(a,b){marker&&infoWindow.close(map,marker),infoWindow=new google.maps.InfoWindow({content:''});var c={lat:a,lng:b,callback:function(c,d){return console.log(c),d!=google.maps.GeocoderStatus.OK?void console.error(d):(confirm('Menade du '+c[0].formatted_address+'?')&&(marker=map.addMarker({lat:a,lng:b,infoWindow:infoWindow}),infoWindow.open(map,marker),path.push([a,b]),map.removePolylines(),map.drawPolyline({path:path,strokeColor:'#131540',strokeOpacity:.6,strokeWeight:6}),$('#places').append('<div class="place-box">'+c[0].formatted_address+'<br /><a href="#" data-type="slider" data-target="mybox">Visa information <i class="fa fa-fw fa-chevron-down"></i></a><div class="place-box-info" data-content="mybox"><p>Här ska all info om destinationen/aktiviteten skrivas ut!</p></div></div>')),void infoWindow.setContent(c[0].formatted_address))}};GMaps.geocode(c)}var center_lat='59.317305',center_lng='18.034087',path=[],lat,lng,marker,infoWindow,service;$(document).ready(function(){$('#gmap').ready(function(){map=new GMaps({div:'#gmap',lat:center_lat,lng:center_lng,zoom:6,zoomControl:!0,zoomControlOpt:{style:'SMALL',position:'TOP_RIGHT'},panControl:!1}),map.setOptions({styles:styles}),map.setContextMenu({control:'map',options:[{action:function(a){map.markers.length;lat=a.latLng.lat(),lng=a.latLng.lng(),setCityMarker(lat,lng)},title:'Placera markör',name:'place_marker'}]}),$('#geocoding_form').submit(function(a){a.preventDefault(),GMaps.geocode({address:$('#address_field').val(),callback:function(a,b){if('OK'==b){var c=a[0].geometry.location;lat=c.lat(),lng=c.lng(),map.setCenter(lat,lng),setCityMarker(lat,lng)}}})})}),$(document).on('click','[data-type="slider"]',function(a){$(this).attr('data-target');return $(this).siblings('div[data-content="mybox"]').slideToggle('slow'),$(this).children('i').toggleClass('fa-chevron-down fa-chevron-up'),!1}),$(document).ready(function(){$('#mobile-toggle').on('click',function(){return $('#travelPlanner').slideToggle(),$(this).children('i').toggleClass('fa fa-angle-down  fa fa-angle-up'),!1})})});var styles=[{featureType:'water',elementType:'geometry',stylers:[{color:'#e9e9e9'},{lightness:17}]},{featureType:'landscape',elementType:'geometry',stylers:[{color:'#f5f5f5'},{lightness:20}]},{featureType:'road.highway',elementType:'geometry.fill',stylers:[{color:'#ffffff'},{lightness:17}]},{featureType:'road.highway',elementType:'geometry.stroke',stylers:[{color:'#ffffff'},{lightness:29},{weight:.2}]},{featureType:'road.arterial',elementType:'geometry',stylers:[{color:'#ffffff'},{lightness:18}]},{featureType:'road.local',elementType:'geometry',stylers:[{color:'#ffffff'},{lightness:16}]},{featureType:'poi',elementType:'geometry',stylers:[{color:'#f5f5f5'},{lightness:21}]},{featureType:'poi.park',elementType:'geometry',stylers:[{color:'#dedede'},{lightness:21}]},{elementType:'labels.text.stroke',stylers:[{visibility:'on'},{color:'#ffffff'},{lightness:16}]},{elementType:'labels.text.fill',stylers:[{saturation:36},{color:'#333333'},{lightness:40}]},{elementType:'labels.icon',stylers:[{visibility:'off'}]},{featureType:'transit',elementType:'geometry',stylers:[{color:'#f2f2f2'},{lightness:19}]},{featureType:'administrative',elementType:'geometry.fill',stylers:[{color:'#fefefe'},{lightness:20}]},{featureType:'administrative',elementType:'geometry.stroke',stylers:[{color:'#fefefe'},{lightness:17},{weight:1.2}]}];